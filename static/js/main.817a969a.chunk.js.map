{"version":3,"sources":["actions/index.js","reducers/index.js","components/List.js","components/Card.js","assets/close.png","App.js","index.js"],"names":["getPeopleAC","pageUrl","dispatch","type","fetch","then","response","json","data","people","catch","error","getPersonAC","personUrl","starships","length","Promise","all","map","url","resp","res","personStarships","info","initialState","pages","personInfo","filters","currDraggable","mapStateToProps","state","connect","filteredPeople","isFavorites","favoritesInitialState","useState","favorites","setFavorites","useEffect","moveToPage","page","peopleList","results","className","onDragOver","event","preventDefault","handleDragOver","onDrop","newFavorites","handleDrop","person","draggable","onClick","onDragStart","node","handleDragStart","name","previous","disabled","next","keys","src","alt","species","find","films","movies","i","foundMovie","movie","push","episode_id","join","personMovies","starship","setFilteredPeople","episodeUrl","setEpisodeUrl","speciesUrl","setSpeciesUrl","minYear","setMinYear","maxYear","setMaxYear","urls","getFiltersAC","onChange","e","target","value","title","placeholder","filtered","filter","isEpisode","includes","isSpicies","lessThanYear","parseInt","birth_year","moreThanYear","filterPeople","store","createStore","action","currPage","slice","pageData","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.817a969a.chunk.js","sourcesContent":["export const setDraggableAC = (node) => {\r\n  return {\r\n    type: 'SET_DRAGGABLE',\r\n    node: node\r\n  }\r\n}\r\n\r\nexport const getPeopleAC = (pageUrl) => {\r\n  pageUrl = pageUrl || 'https://swapi.dev/api/people'\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: 'PEOPLE_REQUESTED',\r\n    });\r\n\r\n  fetch(pageUrl)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      return dispatch({\r\n        type: 'PEOPLE_RECEIVED',\r\n        people: data\r\n      })})\r\n    .catch(error => dispatch({\r\n        type: 'PEOPLE_FAILED',\r\n        people: []\r\n      })\r\n    );\r\n  }\r\n}\r\n\r\nexport const getStarshipsAC = (starships) => {\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: 'STARSHIPS_REQUESTED',\r\n    });\r\n\r\n    Promise.all(starships.map(url =>\r\n      fetch(url).then(resp => resp.json())\r\n    )).then(res => {\r\n      return dispatch({\r\n        type: 'STARSHIPS_RECEIVED',\r\n        personStarships: res\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport const getPersonAC = (personUrl) => {\r\n  if(!personUrl) {\r\n    return {\r\n      type: 'PERSON_INFO_RECEIVED',\r\n      info: null\r\n    }\r\n  }\r\n\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: 'PERSON_INFO_REQUESTED',\r\n    });\r\n\r\n  fetch(personUrl)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      if(data.starships.length) {\r\n        dispatch(getStarshipsAC(data.starships))\r\n      }\r\n\r\n      return dispatch({\r\n        type: 'PERSON_INFO_RECEIVED',\r\n        info: data\r\n      })})\r\n    .catch(error => dispatch({\r\n        type: 'PERSON_INFO_FAILED',\r\n        info: null\r\n      })\r\n    );\r\n  }\r\n}\r\n\r\nexport const getFiltersAC = () => {\r\n  const urls = ['https://swapi.dev/api/films', 'https://swapi.dev/api/species']\r\n\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: 'PERSON_INFO_REQUESTED',\r\n    });\r\n\r\n    Promise.all(urls.map(url =>\r\n      fetch(url).then(resp => resp.json())\r\n    )).then(res => {\r\n      return dispatch({\r\n        type: 'FILTERS_INFO_RECEIVED',\r\n        filters: {\r\n          movies: res[0],\r\n          species: res[1]\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n","const initialState = {\r\n  people: null,\r\n  pages: {},\r\n  personInfo: null,\r\n  filters: null,\r\n  currDraggable: null\r\n}\r\n\r\nexport const mapStateToProps = (state) => {\r\n  return state;\r\n}\r\n\r\nexport const rootReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'PEOPLE_RECEIVED': {\r\n      const currPage = +(action.people.next.slice(-1)) - 1\r\n      const pageData = {}\r\n      pageData[currPage] = action.people\r\n      return {people: action.people, pages: {...state.pages, ...pageData}}\r\n    }\r\n    case 'PERSON_INFO_RECEIVED': {\r\n      return {...state, personInfo: action.info}\r\n    }\r\n    case 'STARSHIPS_RECEIVED': {\r\n      return {...state, personInfo: {...state.personInfo, starships: action.personStarships}}\r\n    }\r\n    case 'FILTERS_INFO_RECEIVED': {\r\n      return {...state, filters: action.filters}\r\n    }\r\n    case 'SET_DRAGGABLE': {\r\n      return {...state, currDraggable: action.node}\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { getPeopleAC, getPersonAC, setDraggableAC } from '../actions'\r\nimport { mapStateToProps } from '../reducers'\r\n\r\nimport './List.scss'\r\n\r\nconst List = ({filteredPeople, currDraggable, isFavorites, filters, people, pages, personInfo, dispatch}, ) => {\r\n  const favoritesInitialState = isFavorites ? filteredPeople : []\r\n  const [favorites, setFavorites] = useState(favoritesInitialState)\r\n  useEffect(() => {\r\n    if(!people) dispatch(getPeopleAC())\r\n  }, [filteredPeople, people, favorites])\r\n\r\n  const moveToPage = (page) => {\r\n    dispatch(getPeopleAC(page))\r\n  }\r\n\r\n  const getPersonInfo = (url) => {\r\n    dispatch(getPersonAC(url))\r\n  }\r\n\r\n  const handleDragOver = (event) => {\r\n    event.preventDefault();\r\n  }\r\n\r\n  const handleDrop = (event) => {\r\n    let newFavorites = [...favorites, currDraggable]\r\n    setFavorites(newFavorites)\r\n  }\r\n\r\n  const handleDragStart = (person) => {\r\n    dispatch(setDraggableAC(person))\r\n  }\r\n\r\n  const peopleList = isFavorites ? favorites :\r\n                      filteredPeople\r\n                    ? filteredPeople\r\n                    : (people && people.results)\r\n                    ? people.results\r\n                    : null\r\n\r\n  return peopleList ?\r\n  <div className={`list-wrapper ${isFavorites ? 'favorites' : ''}`}\r\n        onDragOver={(event)=> handleDragOver(event)}\r\n        onDrop={(event) => handleDrop(event)} >\r\n      <ul className=\"list\">\r\n        {peopleList.map(person => (\r\n              <li\r\n                key={person.name}\r\n                draggable\r\n                onClick={() => getPersonInfo(person.url)}\r\n                onDragStart={() => handleDragStart(person)}>\r\n                  {person.name}\r\n              </li>\r\n        ))}\r\n      </ul>\r\n\r\n      {!isFavorites && <>\r\n        <button\r\n          onClick={() => moveToPage(people.previous)}\r\n          disabled={!people.previous}>\r\n          PREVIOUS\r\n        </button>\r\n        <button\r\n          onClick={() => moveToPage(people.next)}\r\n          disabled={!people.next}>\r\n          NEXT\r\n        </button>\r\n      </>}\r\n  </div>\r\n  : null\r\n}\r\n\r\nexport default connect(mapStateToProps)(List)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { getPersonAC } from '../actions'\r\nimport { mapStateToProps } from '../reducers'\r\nimport './Card.scss'\r\nimport closeIcon from '../assets/close.png'\r\n\r\nconst Card = ({filters, people, pages, personInfo, dispatch}) => {\r\n  const keys = ['I', 'II', 'III', 'IV', 'V', 'VI']\r\n\r\n  const closePopup = () => {\r\n    dispatch(getPersonAC(null))\r\n  }\r\n  const personMovies = (films) => {\r\n    const movies = []\r\n    for(let i = 0; i < films.length; i++) {\r\n      const foundMovie = filters.movies.results.find(movie => movie.url === films[i])\r\n      movies.push('Episode ' + keys[foundMovie.episode_id - 1])\r\n    }\r\n    return movies.join(', ')\r\n  }\r\n\r\n  return personInfo && filters ?\r\n    <div className=\"character-popup\">\r\n      <div className=\"character-card\">\r\n        <button onClick={() => closePopup()} className=\"close-button\">\r\n          <img src={closeIcon} alt=\"close\"/>\r\n        </button>\r\n        <ul>\r\n          <li>Name: {personInfo.name}</li>\r\n          <li>Species: {!personInfo.species.length\r\n              ? 'Human'\r\n              : filters.species.results.find(species => {\r\n                  if(species.url === personInfo.species[0]) return species\r\n              }).name}\r\n          </li>\r\n          <li>Movies: {personMovies(personInfo.films)}</li>\r\n          <li>Spaceships: {!personInfo.starships.length\r\n              ? '-'\r\n              : personInfo.starships.map(\r\n                starship => starship.name).join(', ')}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    : null\r\n}\r\n\r\nexport default connect(mapStateToProps)(Card)\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAMBQTFRFAAAAIx8gJB8gIyEgJR0gHhQbIA4aIyAgJB8fIh4gIx4gIh8fIh8hZ44+bQCjJR8gIR4gIh8gIx8gIx8gIx8gJB8gIx8gIx8gIx8gIx8gIx8gIx8gIx8gJCAgIx8gIx8gIiAgIx8gIx8gIx8gIx8gIx8hIh8fIx8gJB8fIx8gIyAgIh8fIx8gIh4gIx4gIx8hIh8hJB8hIx8gIx8fIx8gIx8gIx8gIR8iIx8gIh8gIx0gIx8gIh8gIx8gIx8g////RgU9GgAAAD50Uk5TAAAAAAAAAAAAAAAAAAAAAAAAAhcYAl/WYAPU72cDamYDZe7wYQMCaANkAwNjAwICAgLtA/X0YgH2AgJpA9XJqBaMAAAAAWJLR0Q/PmMwdQAAAAlwSFlzAAE69gABOvYBOrFXOgAAAVFJREFUSMftlNlWgzAQhjO441oIZVUkllIUkdatqOX9H6vJQC3lEMBrO5dz/m+2TIaQve2t10DTqQZNH9UNRaI/GJumZe8QYFumOT6EdkB3isL1bqGuv3OLwtElAOVA4frbHHAfMO5yqAQ4sni44uGXAC0QDndyfCJpIvQY5pgiAUbkNlI27XSGIVn8yCXwlDBM+HzWMVgbi3bjFNQ0Qbgjfkn4gmDBS4blsTjs1BOizDHwIo4XmGp6TnoMXhMhfXtHzIY+PSFqisGF/sMYoCfk4jNZCv0yzgbpa4A2CFBTryqJBUMI/l5/aloxqrEm5Vj7coAdMZxPnuGsmB/2PPR2Nb4GrAZslk+IwN4sH8jjf5f6snBlXqaLfiQEXFYfKGx+oCu1HaCr5hctW1rRriMQ1JuEmdd1BK75mZm0nZkbWRP8kOWjXd8op/qwldrbf7c1a6ZAlU+m4hQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMTEtMDlUMTA6MDM6MjIrMDE6MDC3+udLAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTExLTA5VDEwOjAzOjIyKzAxOjAwxqdf9wAAAEZ0RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi43LjgtOSAyMDE2LTA2LTE2IFExNiBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ+a/NLYAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6aGVpZ2h0ADUxMsDQUFEAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgANTEyHHwD3AAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTQxNzU0MjAyrrLbNQAAABN0RVh0VGh1bWI6OlNpemUAOS4zNEtCQo9MI1EAAAA8dEVYdFRodW1iOjpVUkkAZmlsZTovLy4vdXBsb2Fkcy81Ni91dm5kc1MyLzE2NzQvY2xvc2VfMTExMTUyLnBuZzVJD1EAAAAASUVORK5CYII=\"","import React, {useState, useEffect} from 'react'\nimport { connect } from 'react-redux'\nimport { getFiltersAC } from './actions'\nimport { mapStateToProps } from './reducers'\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport './App.scss'\n\nimport List from './components/List'\nimport Card from './components/Card'\n\nfunction App({filters, people, pages, personInfo, dispatch}) {\n  const [filteredPeople, setFilteredPeople] = useState(null)\n  const [episodeUrl, setEpisodeUrl] = useState('')\n  const [speciesUrl, setSpeciesUrl] = useState('')\n  const [minYear, setMinYear] = useState('')\n  const [maxYear, setMaxYear] = useState('')\n\n  const [favorites, setFavorites] = useState([])\n\n  const filterPeople = () => {\n    if(episodeUrl || speciesUrl || minYear || maxYear) {\n      const filtered = people.results.filter(person => {\n        const isEpisode = person.films.includes(episodeUrl)\n        const isSpicies = (person.species.includes(speciesUrl)\n        || (!person.species.length && speciesUrl === filters.species.results[0].url))\n        const lessThanYear = maxYear ? parseInt(person.birth_year) <= parseInt(maxYear) : true\n        const moreThanYear = minYear ? parseInt(person.birth_year) >= parseInt(minYear) : true\n\n        if(!episodeUrl && !speciesUrl) return lessThanYear && moreThanYear\n        if(episodeUrl && speciesUrl) return isEpisode && isSpicies && lessThanYear && moreThanYear\n        else if(episodeUrl) return isEpisode && lessThanYear && moreThanYear\n        else if(speciesUrl) return lessThanYear && moreThanYear && (isSpicies\n          || (!person.species.length && speciesUrl === filters.species.results[0].url))\n        })\n        setFilteredPeople(filtered)\n    }\n  }\n\n  useEffect(() => {\n    dispatch(getFiltersAC())\n  }, [])\n\n  return (\n    <div className=\"App\">\n      {/*FILTER*/}\n      {filters && <div className=\"filters\">\n        <select onChange={(e) => setEpisodeUrl(e.target.value)}>\n          <option key=\"no-movie\" value={''}>Choose Episode</option>\n          {filters.movies.results.map(movie => {\n            return <option key={movie.title} value={movie.url}>{movie.title}</option>\n          })}\n        </select>\n\n        <select onChange={(e) => setSpeciesUrl(e.target.value)}>\n          <option key=\"no-species\" value={''}>Choose Species</option>\n          {filters.species.results.map(name => {\n            return <option key={name.url} value={name.url}>{name.name}</option>\n          })}\n        </select>\n\n        <div>\n          <input placeholder=\"Type min year\" type=\"text\" value={minYear} onChange={(e) => setMinYear(e.target.value)} />\n          <input placeholder=\"Type max year\" type=\"text\" value={maxYear} onChange={(e) => setMaxYear(e.target.value)} />\n        </div>\n\n        <button onClick={() => filterPeople()}>Filter</button>\n      </div>}\n\n      <div className=\"lists-wrapper\">\n        <List filteredPeople={filteredPeople}/>\n        <List filteredPeople={favorites} isFavorites={true}/>\n      </div>\n\n      <Card />\n    </div>\n  );\n}\n\nexport default connect(mapStateToProps)(App);\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport { applyMiddleware, createStore } from 'redux'\nimport { rootReducer } from './reducers/index'\nimport thunk from 'redux-thunk'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}