(this["webpackJsonpsw-test"]=this["webpackJsonpsw-test"]||[]).push([[0],{18:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(6),c=n.n(s),i=(n(18),n(3)),A=n(4),l=function(e){return e=e||"https://swapi.dev/api/people",function(t){t({type:"PEOPLE_REQUESTED"}),fetch(e).then((function(e){return e.json()})).then((function(e){return t({type:"PEOPLE_RECEIVED",people:e})})).catch((function(e){return t({type:"PEOPLE_FAILED",people:[]})}))}},a=function(e){return e?function(t){t({type:"PERSON_INFO_REQUESTED"}),fetch(e).then((function(e){return e.json()})).then((function(e){var n;return e.starships.length&&t((n=e.starships,function(e){e({type:"STARSHIPS_REQUESTED"}),Promise.all(n.map((function(e){return fetch(e).then((function(e){return e.json()}))}))).then((function(t){return e({type:"STARSHIPS_RECEIVED",personStarships:t})}))})),t({type:"PERSON_INFO_RECEIVED",info:e})})).catch((function(e){return t({type:"PERSON_INFO_FAILED",info:null})}))}:{type:"PERSON_INFO_RECEIVED",info:null}},o=n(2),u={people:null,pages:{},personInfo:null,filters:null,currDraggable:null},p=function(e){return e},j=(n(23),n(13)),f=(n(24),n(1)),O=Object(A.b)(p)((function(e){var t=e.filteredPeople,n=e.currDraggable,s=e.isFavorites,c=(e.filters,e.people),A=(e.pages,e.personInfo,e.dispatch),o=s?t:[],u=Object(r.useState)(o),p=Object(i.a)(u,2),O=p[0],I=p[1];Object(r.useEffect)((function(){c||A(l())}),[t,c,O]);var d=function(e){A(l(e))},h=s?O:t||(c&&c.results?c.results:null);return h?Object(f.jsxs)("div",{className:"list-wrapper ".concat(s?"favorites":""),onDragOver:function(e){return function(e){e.preventDefault()}(e)},onDrop:function(e){return function(e){var t=[].concat(Object(j.a)(O),[n]);I(t)}()},children:[Object(f.jsx)("ul",{className:"list",children:h.map((function(e){return Object(f.jsx)("li",{draggable:!0,onClick:function(){return t=e.url,void A(a(t));var t},onDragStart:function(){return function(e){A({type:"SET_DRAGGABLE",node:e})}(e)},children:e.name},e.name)}))}),!s&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{onClick:function(){return d(c.previous)},disabled:!c.previous,children:"PREVIOUS"}),Object(f.jsx)("button",{onClick:function(){return d(c.next)},disabled:!c.next,children:"NEXT"})]})]}):null})),I=(n(26),Object(A.b)(p)((function(e){var t=e.filters,n=(e.people,e.pages,e.personInfo),r=e.dispatch,s=["I","II","III","IV","V","VI"];return n&&t?Object(f.jsx)("div",{className:"character-popup",children:Object(f.jsxs)("div",{className:"character-card",children:[Object(f.jsx)("button",{onClick:function(){r(a(null))},className:"close-button",children:Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAMBQTFRFAAAAIx8gJB8gIyEgJR0gHhQbIA4aIyAgJB8fIh4gIx4gIh8fIh8hZ44+bQCjJR8gIR4gIh8gIx8gIx8gIx8gJB8gIx8gIx8gIx8gIx8gIx8gIx8gIx8gJCAgIx8gIx8gIiAgIx8gIx8gIx8gIx8gIx8hIh8fIx8gJB8fIx8gIyAgIh8fIx8gIh4gIx4gIx8hIh8hJB8hIx8gIx8fIx8gIx8gIx8gIR8iIx8gIh8gIx0gIx8gIh8gIx8gIx8g////RgU9GgAAAD50Uk5TAAAAAAAAAAAAAAAAAAAAAAAAAhcYAl/WYAPU72cDamYDZe7wYQMCaANkAwNjAwICAgLtA/X0YgH2AgJpA9XJqBaMAAAAAWJLR0Q/PmMwdQAAAAlwSFlzAAE69gABOvYBOrFXOgAAAVFJREFUSMftlNlWgzAQhjO441oIZVUkllIUkdatqOX9H6vJQC3lEMBrO5dz/m+2TIaQve2t10DTqQZNH9UNRaI/GJumZe8QYFumOT6EdkB3isL1bqGuv3OLwtElAOVA4frbHHAfMO5yqAQ4sni44uGXAC0QDndyfCJpIvQY5pgiAUbkNlI27XSGIVn8yCXwlDBM+HzWMVgbi3bjFNQ0Qbgjfkn4gmDBS4blsTjs1BOizDHwIo4XmGp6TnoMXhMhfXtHzIY+PSFqisGF/sMYoCfk4jNZCv0yzgbpa4A2CFBTryqJBUMI/l5/aloxqrEm5Vj7coAdMZxPnuGsmB/2PPR2Nb4GrAZslk+IwN4sH8jjf5f6snBlXqaLfiQEXFYfKGx+oCu1HaCr5hctW1rRriMQ1JuEmdd1BK75mZm0nZkbWRP8kOWjXd8op/qwldrbf7c1a6ZAlU+m4hQAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMTEtMDlUMTA6MDM6MjIrMDE6MDC3+udLAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTExLTA5VDEwOjAzOjIyKzAxOjAwxqdf9wAAAEZ0RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi43LjgtOSAyMDE2LTA2LTE2IFExNiBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ+a/NLYAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6aGVpZ2h0ADUxMsDQUFEAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgANTEyHHwD3AAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTQxNzU0MjAyrrLbNQAAABN0RVh0VGh1bWI6OlNpemUAOS4zNEtCQo9MI1EAAAA8dEVYdFRodW1iOjpVUkkAZmlsZTovLy4vdXBsb2Fkcy81Ni91dm5kc1MyLzE2NzQvY2xvc2VfMTExMTUyLnBuZzVJD1EAAAAASUVORK5CYII=",alt:"close"})}),Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{children:["Name: ",n.name]}),Object(f.jsxs)("li",{children:["Species: ",n.species.length?t.species.results.find((function(e){if(e.url===n.species[0])return e})).name:"Human"]}),Object(f.jsxs)("li",{children:["Movies: ",function(e){for(var n=[],r=function(r){var c=t.movies.results.find((function(t){return t.url===e[r]}));n.push("Episode "+s[c.episode_id-1])},c=0;c<e.length;c++)r(c);return n.join(", ")}(n.films)]}),Object(f.jsxs)("li",{children:["Spaceships: ",n.starships.length?n.starships.map((function(e){return e.name})).join(", "):"-"]})]})]})}):null})));var d=Object(A.b)(p)((function(e){var t=e.filters,n=e.people,s=(e.pages,e.personInfo,e.dispatch),c=Object(r.useState)(null),A=Object(i.a)(c,2),l=A[0],a=A[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),p=u[0],j=u[1],d=Object(r.useState)(""),h=Object(i.a)(d,2),b=h[0],g=h[1],E=Object(r.useState)(""),x=Object(i.a)(E,2),v=x[0],m=x[1],R=Object(r.useState)(""),N=Object(i.a)(R,2),D=N[0],S=N[1],V=Object(r.useState)([]),y=Object(i.a)(V,2),F=y[0];return y[1],Object(r.useEffect)((function(){s(function(){var e=["https://swapi.dev/api/films","https://swapi.dev/api/species"];return function(t){t({type:"PERSON_INFO_REQUESTED"}),Promise.all(e.map((function(e){return fetch(e).then((function(e){return e.json()}))}))).then((function(e){return t({type:"FILTERS_INFO_RECEIVED",filters:{movies:e[0],species:e[1]}})}))}}())}),[]),Object(f.jsxs)("div",{className:"App",children:[t&&Object(f.jsxs)("div",{className:"filters",children:[Object(f.jsxs)("select",{onChange:function(e){return j(e.target.value)},children:[Object(f.jsx)("option",{value:"",children:"Choose Episode"},"no-movie"),t.movies.results.map((function(e){return Object(f.jsx)("option",{value:e.url,children:e.title},e.title)}))]}),Object(f.jsxs)("select",{onChange:function(e){return g(e.target.value)},children:[Object(f.jsx)("option",{value:"",children:"Choose Species"},"no-species"),t.species.results.map((function(e){return Object(f.jsx)("option",{value:e.url,children:e.name},e.url)}))]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{placeholder:"Type min year",type:"text",value:v,onChange:function(e){return m(e.target.value)}}),Object(f.jsx)("input",{placeholder:"Type max year",type:"text",value:D,onChange:function(e){return S(e.target.value)}})]}),Object(f.jsx)("button",{onClick:function(){return function(){if(p||b||v||D){var e=n.results.filter((function(e){var n=e.films.includes(p),r=e.species.includes(b)||!e.species.length&&b===t.species.results[0].url,s=!D||parseInt(e.birth_year)<=parseInt(D),c=!v||parseInt(e.birth_year)>=parseInt(v);return p||b?p&&b?n&&r&&s&&c:p?n&&s&&c:b?s&&c&&(r||!e.species.length&&b===t.species.results[0].url):void 0:s&&c}));a(e)}}()},children:"Filter"})]}),Object(f.jsxs)("div",{className:"lists-wrapper",children:[Object(f.jsx)(O,{filteredPeople:l}),Object(f.jsx)(O,{filteredPeople:F,isFavorites:!0})]}),Object(f.jsx)(I,{})]})})),h=n(11),b=n(12),g=Object(h.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PEOPLE_RECEIVED":var n=+t.people.next.slice(-1)-1,r={};return r[n]=t.people,{people:t.people,pages:Object(o.a)(Object(o.a)({},e.pages),r)};case"PERSON_INFO_RECEIVED":return Object(o.a)(Object(o.a)({},e),{},{personInfo:t.info});case"STARSHIPS_RECEIVED":return Object(o.a)(Object(o.a)({},e),{},{personInfo:Object(o.a)(Object(o.a)({},e.personInfo),{},{starships:t.personStarships})});case"FILTERS_INFO_RECEIVED":return Object(o.a)(Object(o.a)({},e),{},{filters:t.filters});case"SET_DRAGGABLE":return Object(o.a)(Object(o.a)({},e),{},{currDraggable:t.node});default:return e}}),Object(h.a)(b.a));c.a.render(Object(f.jsx)(A.a,{store:g,children:Object(f.jsx)(d,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.817a969a.chunk.js.map